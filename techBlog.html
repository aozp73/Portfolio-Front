    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.14.0/Sortable.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Portfolio</title>
        <style>
            body {
                padding-top: 88px;
            }
        </style>
        <link rel="stylesheet" href="css/style.css" />
    </head>
    <body>    
        
        <header class="navbar navbar-custom navbar-expand-lg navbar-light fixed-top">
            <div class="container">
                <a class="navbar-brand" href="/mainpage.html">포트폴리오</a>
                
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto"> 
                        <li class="nav-item me-4">
                            <a class="nav-link" href="/resume.html">Resume</a>
                        </li>
                        <li class="nav-item me-4">
                            <a class="nav-link" href="/project.html">Project</a>
                        </li>
                        <li class="nav-item me-4">
                            <a class="nav-link" href="/skills.html">Skills</a>
                        </li>
                        <li class="nav-item me-5">
                            <a class="nav-link" href="/techBlog.html">TechBlog</a>
                        </li>
                    </ul>
                    <button type="button" class="btn btn-primary mb-2 ms-2 edit-button" onclick="toggleEditMode()">편집모드</button>

                </div>
            </div>
        </header>        

        <div class="py-5" style="background-color: #F9F9F9" id="main-container">
        
            <div class="container" id="container-1" style="padding-left: 150px; padding-right: 150px; margin-top: 20px;">
                <div class="mb-4" id="heading-1">
                    <h3>제목1</h3>
                    <hr>
                </div>
                <div class="row">
                    <div class="col-5">
                        <div class="blog-image-preview-change mb-3" style="height: 261px; background-image: url('/image/blogpage-sample.jpg'); background-size: 100% 100%;">
                        </div>
                    </div>
                    <div class="col-7">
                        <div class="mb-4" id="subheading-1">
                            <h4>소제목</h4>
                        </div>
                        <div class="mb-3" id="content-1">
                            <p>
                               내용<br>
                               내용<br>
                               내용<br>
                               내용<br>
                               내용<br>
                            </p>
                        </div>
                    </div>
                </div>
                <div style="height: 80px;">
                    <div class="edit-controls" style="display: none; ">
                        <div class="d-flex justify-content-end">
                            <button type="button" class="btn btn-outline-secondary me-2" onclick="updateForm(event, 1)">수정하기</button>
                            <button type="button" class="btn btn-outline-danger" onclick="deletePost(1)">삭제하기</button>
                        </div>
                    </div>
                </div>
            </div>
 

            <div class="container" id="container-2" style="padding-left: 150px; padding-right: 150px; margin-top: 20px;">
                <div class="mb-4" id="heading-2">
                    <h3>제목2</h3>
                    <hr>
                </div>
                <div class="row">
                    <div class="col-5">
                        <div class="blog-image-preview-change mb-3" style="height: 261px; background-image: url('/image/blogpage-sample.jpg'); background-size: 100% 100%;">
                        </div>
                    </div>
                    <div class="col-7">
                        <div class="mb-4" id="subheading-2">
                            <h4>소제목</h4>
                        </div>
                        <div class="mb-3" id="content-2">
                            <p>
                               내용<br>
                               내용<br>
                               내용<br>
                               내용<br>
                               내용<br>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="edit-controls" style="display: none;">
                    <div class="mt-3 d-flex justify-content-end">
                        <button type="button" class="btn btn-outline-secondary me-2" onclick="updateForm(event, 2)">수정하기</button>
                        <button type="button" class="btn btn-outline-danger" onclick="deletePost(2)">삭제하기</button>
                    </div>
                </div>
            </div>
            <br><br>



            <br><br>
            <div class="edit-controls container" style="padding-left: 150px; padding-right: 150px; display: none;">

                <div class="mb-4">
                    <div class="ms-2 mb-4">
                        <h2>새 글쓰기</h2>
                    </div>
                    <div>
                        <input type="text" class="form-control" id="postTitle-new" placeholder="제목을 입력하세요">
                    </div>
                </div>
                <div class="row">

                    <div class="col-5">
                        <div class="blog-image-preview mb-3" id="image-preview-new" style="height: 261px;" onclick="document.getElementById('imageInput').click();">
                            <input type="file" id="imageInput" style="display: none;" onchange="previewImage(event, 'new')">
                            <div class="plus-icon">+</div>
                        </div>
                    </div>

                    <div class="col-7">
                        <form id="postForm">
                            <div class="mb-3">
                                <input type="text" class="form-control" id="postSubTitle-new" placeholder="소제목을 입력하세요">
                            </div>
                            <div class="mb-3">
                                <textarea class="form-control" id="postContent-new" rows="8" placeholder="내용을 입력하세요"></textarea>
                            </div>
                        </form>
                        <div class="my-3 d-flex justify-content-end">
                            <button type="button" class="btn btn-primary" onclick="addPost()">글 등록하기</button>
                        </div>
                    </div>

                </div>


            </div>
        </div>
        

        <hr class="bg-secondary mb-5 mt-0">

    </body>

    <script>
        let modeCnt = 0
        window.addEventListener('scroll', function() {
            let navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) { 
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        function toggleEditMode() {
            modeCnt += 1
            if (modeCnt >= 2) {
                location.reload();
            }

            const controls = document.querySelectorAll('.edit-controls');
            controls.forEach(control => {
                if (control.style.display === 'none') {
                    control.style.display = 'block';
                } else {
                    control.style.display = 'none';
                }
            });
        }

        // 사진 미리보기 ~
        function previewImage(event, container_number) {
            const reader = new FileReader();
            const file = event.target.files[0];
            
            reader.onloadend = function() {
                const imagePreview = document.querySelector('#image-preview-' + container_number);
                imagePreview.classList.remove('blog-image-preview'); 
                imagePreview.classList.add('blog-image-preview-change');
                imagePreview.style.backgroundImage = 'url(' + reader.result + ')';
                imagePreview.style.backgroundSize = '100% 100%';
               
                if (container_number === 'new') {
                     document.querySelector('.plus-icon').style.display = 'none'; 
                }
            }
            
            if (file) {
                reader.readAsDataURL(file);
            } else {
                resetPreview();
            }
        }
        // ~ 사진 미리보기
        
        function resetPreview() {
            const imagePreview = document.querySelector('.blog-image-preview');
            imagePreview.style.backgroundImage = 'none';
            document.querySelector('.plus-icon').style.display = 'block';
        }

        // update ~
        function updateForm(event, container_number) {
            let section = document.getElementById('container-' + container_number);
            let heading = section.querySelector('#heading-' + container_number + ' h3').innerText;
            let subheading = section.querySelector('#subheading-' + container_number + ' h4').innerText;
            let content = section.querySelector('#content-' + container_number + ' p').innerText;
            
            let backgroundImage = section.querySelector('.blog-image-preview-change').style.backgroundImage.slice(5, -2);
            
            section.innerHTML = `
                <div class="mb-4">
                    <div class="mb-4">
                        <input type="text" class="form-control" id="postTitle-${container_number}" value="${heading}">
                    </div>
                </div>
                <div class="row">
                    <div class="col-5">
                        <div class="blog-image-preview-change mb-3" id="image-preview-${container_number}" style="height: 261px; background-image: url('${backgroundImage}'); background-size: 100% 100%;" onclick="document.getElementById('imageInput-${container_number}').click();">
                            <input type="file" id="imageInput-${container_number}" style="display: none;" onchange="previewImage(event, ${container_number})">
                        </div>
                    </div>
                    <div class="col-7">
                        <form id="postForm-${container_number}">
                            <div class="mb-3">
                                <input type="text" class="form-control" id="postSubTitle-${container_number}" value="${subheading}">
                            </div>
                            <div class="mb-3">
                                <textarea class="form-control" id="postContent-${container_number}" rows="8">${content}</textarea>
                            </div>
                        </form>
                        <div class="my-3 d-flex justify-content-end">
                            <button type="button" class="btn btn-primary" onclick="updatePost(${container_number})">수정완료</button>
                        </div>
                    </div>
                </div>
            `;
        }

        function updatePost(container_number) {
            let postTitle = document.getElementById('postTitle-' + container_number).value;
            let postSubTitle = document.getElementById('postSubTitle-' + container_number).value;
            let postContent = document.getElementById('postContent-' + container_number).value;
        
            let backgroundImage = document.getElementById('image-preview-' + container_number).style.backgroundImage.slice(5, -2);
            console.log("PK:",container_number)
            console.log("Title:", postTitle);
            console.log("Subtitle:", postSubTitle);
            console.log("Content:", postContent);
            console.log("Background Image URL:", backgroundImage);
        }
        // ~ update

        // add ~ 
        function addPost() {
            const imagePreview = document.getElementById('image-preview-new');
            const backgroundImage = imagePreview.style.backgroundImage.slice(5, -2); 
        
            const postTitle = document.getElementById('postTitle-new').value;
            const postSubTitle = document.getElementById('postSubTitle-new').value;
            const postContent = document.getElementById('postContent-new').value;
        
            console.log("Title:", postTitle);
            console.log("Subtitle:", postSubTitle);
            console.log("Content:", postContent);
            console.log("Image URL:", backgroundImage);
        }
        // ~ add 

        // delete ~ 
        function deletePost(container_number) {
            console.log(container_number);
        }
        // ~ delete 

    </script>

    </html>